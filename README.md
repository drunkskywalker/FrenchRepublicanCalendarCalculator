# 共和历计算器

这个简化的计算器接收一个公历日期，并返回对应的法国共和历日期。

## 共和历历法

法国共和历以1792年9月22日为共和历1年的新年。

共和历的新年是当年的秋分日。取决于两个秋分日之间的天数，共和历的一年有365或366日。如果两个秋分日之间有366日，则当年为闰年。在计算当年是否为闰年时应当检查两个秋分日之间的距离而不是对应公历日期的年份是否为闰年。

共和历的一年有12个月，每个月有30天。每年剩余的5或6天不属于任何一个月份。

## 计算

这个计算器通过pyEphem库计算秋分日，并用得到的秋分日期计算输入日期和上一个新年距离的天数，再用得到的距离天数计算输入日期所在的共和历月份和日期。计算器使用简化的秋分计算方法：直接使用UTC时间的秋分时刻，而不是巴黎天文台对应的秋分时刻。如果pyEphem返回的秋分时刻和巴黎天文台应当观测到的秋分时刻发生在不同的日期，则将导致本计算器返回的日期和实际共和历历法应得的日期不一致。更标准的共和历日期算法参考[French Republican Calendar](https://frcal.qt.ax/)和[quantum5/qcal](https://github.com/quantum5/qcal/)，这个算法考虑了UTC引入的闰秒和UT1与TT之间的差距导致的日期变动的问题。